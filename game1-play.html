<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è°éŸ³æ¢—æŒ‘æˆ˜</title>
    <style>
        /* ========== å…¨å±€æ ·å¼ ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', 'PingFang SC', sans-serif;
            min-height: 100vh;
            background: linear-gradient(135deg, #8E0E00 0%, #1F1C18 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 30px 40px;
        }

        /* ========== é¡¶éƒ¨çŠ¶æ€æ  ========== */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 1400px;
            margin-bottom: 30px;
            padding: 20px 40px;
            background: linear-gradient(145deg, rgba(211, 47, 47, 0.9), rgba(183, 28, 28, 0.9));
            border-radius: 20px;
            border: 2px solid #FFD700;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .game-name {
            font-size: 36px;
            font-weight: bold;
            color: #FFD700;
        }

        .question-info {
            font-size: 28px;
            color: #FFF;
        }

        .timer {
            font-size: 48px;
            font-weight: bold;
            color: #4CAF50;
            min-width: 120px;
            text-align: center;
        }

        /* å€’è®¡æ—¶è­¦å‘Šæ ·å¼ - çº¢è‰²é—ªçƒ */
        .timer-warning {
            color: #FF0000;
            animation: blink 0.5s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        /* ========== æ¸¸æˆåŒºåŸŸ ========== */
        .game-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
            width: 100%;
            max-width: 1200px;
        }

        /* ========== å›¾ç‰‡åŒºåŸŸ ========== */
        .images-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 60px;
            margin-bottom: 40px;
        }

        .image-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .question-image {
            width: 400px;
            height: 400px;
            background: linear-gradient(145deg, #666, #444);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            color: #AAA;
            border: 4px solid #FFD700;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            object-fit: cover;
        }

        .arrow {
            font-size: 60px;
            color: #FFD700;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        /* ========== æç¤ºæ–‡å­— ========== */
        .hint-text {
            font-size: 32px;
            color: #FFE082;
            margin-bottom: 30px;
            text-align: center;
        }

        /* ========== ç­”æ¡ˆåŒºåŸŸ ========== */
        .answer-area {
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 40px;
        }

        .answer-text {
            font-size: 48px;
            font-weight: bold;
            color: #FFD700;
            padding: 20px 60px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            border: 3px solid #FFD700;
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.4s ease;
        }

        .answer-text.show {
            opacity: 1;
            transform: scale(1);
        }

        /* ========== æ§åˆ¶æŒ‰é’®åŒºåŸŸ ========== */
        .controls-area {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        .control-btn {
            padding: 18px 40px;
            font-size: 26px;
            font-weight: bold;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .btn-show {
            background: linear-gradient(145deg, #2196F3, #1976D2);
            color: #FFF;
        }

        .btn-correct {
            background: linear-gradient(145deg, #4CAF50, #388E3C);
            color: #FFF;
        }

        .btn-next {
            background: linear-gradient(145deg, #FF9800, #F57C00);
            color: #FFF;
        }

        .btn-skip {
            background: linear-gradient(145deg, #9E9E9E, #757575);
            color: #FFF;
        }

        .btn-end {
            background: linear-gradient(145deg, #F44336, #D32F2F);
            color: #FFF;
        }

        .btn-home {
            background: linear-gradient(145deg, #8E0E00, #6D0C0C);
            color: #FFF;
            border: 2px solid #FFD700;
            text-decoration: none;
            display: inline-block;
        }

        .control-btn:hover:not(:disabled), .btn-home:hover {
            transform: scale(1.08);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }

        .control-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
        }

        /* ========== çŠ¶æ€æ  ========== */
        .status-bar {
            display: flex;
            gap: 60px;
            justify-content: center;
            font-size: 28px;
            color: #FFF;
            padding: 20px 50px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-label {
            color: #FFE082;
        }

        .status-value {
            font-weight: bold;
            color: #FFD700;
        }

        /* ========== åŠ åˆ†åŠ¨ç”» ========== */
        @keyframes scorePop {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); color: #FFD700; }
            100% { transform: scale(1); }
        }

        .score-pop {
            animation: scorePop 0.4s ease-out;
        }

        /* ========== å“åº”å¼é€‚é… ========== */
        @media (max-width: 1100px) {
            .images-container {
                flex-direction: column;
                gap: 30px;
            }
            .arrow {
                transform: rotate(90deg);
            }
            .question-image {
                width: 300px;
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨çŠ¶æ€æ  -->
    <div class="header">
        <div class="game-name">è°éŸ³æ¢—æŒ‘æˆ˜</div>
        <div class="question-info">ç¬¬ <span id="currentNum">1</span>/20 é¢˜</div>
        <div class="timer" id="timer">30</div>
    </div>

    <!-- æ¸¸æˆåŒºåŸŸ -->
    <div class="game-area">
        <!-- å›¾ç‰‡åŒºåŸŸ -->
        <div class="images-container">
            <div class="image-wrapper">
                <img id="image1" class="question-image" src="" alt="å›¾ç‰‡1" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="question-image" style="display: none;">å›¾ç‰‡1</div>
            </div>
            <div class="arrow">â†’</div>
            <div class="image-wrapper">
                <img id="image2" class="question-image" src="" alt="å›¾ç‰‡2" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="question-image" style="display: none;">å›¾ç‰‡2</div>
            </div>
        </div>

        <!-- æç¤ºæ–‡å­— -->
        <div class="hint-text" id="hintText"></div>

        <!-- ç­”æ¡ˆåŒºåŸŸ -->
        <div class="answer-area">
            <div class="answer-text" id="answerText"></div>
        </div>

        <!-- æ§åˆ¶æŒ‰é’® -->
        <div class="controls-area">
            <button class="control-btn btn-show" id="btnShow" onclick="showAnswer()">æ˜¾ç¤ºç­”æ¡ˆ</button>
            <button class="control-btn btn-correct" id="btnCorrect" onclick="answerCorrect()">ç­”å¯¹+1åˆ†</button>
            <button class="control-btn btn-next" id="btnNext" onclick="nextQuestion()">ä¸‹ä¸€é¢˜</button>
            <button class="control-btn btn-skip" id="btnSkip" onclick="skipQuestion()">è·³è¿‡</button>
            <button class="control-btn btn-end" onclick="endGame()">ç»“æŸæ¸¸æˆ</button>
            <a href="index.html" class="control-btn btn-home">è¿”å›é¦–é¡µ</a>
        </div>

        <!-- çŠ¶æ€æ  -->
        <div class="status-bar">
            <div class="status-item">
                <span class="status-label">å½“å‰å¾—åˆ†ï¼š</span>
                <span class="status-value" id="score">0</span> åˆ†
            </div>
            <div class="status-item">
                <span class="status-label">å·²è·³è¿‡ï¼š</span>
                <span class="status-value" id="skipped">0</span>/3 æ¬¡
            </div>
        </div>
    </div>

    <script>
        // ========== é…ç½®å¸¸é‡ ==========
        const IMAGE_PATH = 'images/game1/';  // å›¾ç‰‡åŸºç¡€è·¯å¾„
        const TOTAL_TIME = 30;  // æ¯é¢˜æ—¶é—´ï¼ˆç§’ï¼‰
        const MAX_SKIP = 3;  // æœ€å¤§è·³è¿‡æ¬¡æ•°
        const TOTAL_QUESTIONS = 20;  // æ€»é¢˜æ•°

        // ========== é¢˜åº“æ•°æ® ==========
        const questions = [
            {id: 1, image1: "q1-1.jpg", image2: "q1-2.jpg", hint: "è¿™æ˜¯ç“¶ + è¿™æ˜¯...", answer: "èººå¹³"},
            {id: 2, image1: "q2-1.jpg", image2: "q2-2.jpg", hint: "è¿™æ˜¯å½©è™¹ + è¿™æ˜¯...", answer: "å½©è™¹å±"},
            {id: 3, image1: "q3-1.jpg", image2: "q3-2.jpg", hint: "è¿™æ˜¯é©¬ + è¿™æ˜¯...", answer: "äºŒç»´ç "},
            {id: 4, image1: "q4-1.jpg", image2: "q4-2.jpg", hint: "è¿™æ˜¯è›‹ + è¿™æ˜¯...", answer: "æ‰¯è›‹"},
            {id: 5, image1: "q5-1.jpg", image2: "q5-2.jpg", hint: "è¿™æ˜¯åŒ… + è¿™æ˜¯...", answer: "æ‰“åŒ…"},
            {id: 6, image1: "q6-1.jpg", image2: "q6-2.jpg", hint: "è¿™æ˜¯ç« + è¿™æ˜¯...", answer: "ç«è…¿è‚ "},
            {id: 7, image1: "q7-1.jpg", image2: "q7-2.jpg", hint: "è¿™æ˜¯ç‹— + è¿™æ˜¯...", answer: "çƒ­ç‹—"},
            {id: 8, image1: "q8-1.jpg", image2: "q8-2.jpg", hint: "è¿™æ˜¯å‡³å­ + è¿™æ˜¯...", answer: "é‚“ç´«æ£‹"},
            {id: 9, image1: "q9-1.jpg", image2: "q9-2.jpg", hint: "è¿™æ˜¯å…¬é¸¡ + è¿™æ˜¯...", answer: "è‚±äºŒå¤´è‚Œ"},
            {id: 10, image1: "q10-1.jpg", image2: "q10-2.jpg", hint: "è¿™æ˜¯èŠ± + è¿™æ˜¯...", answer: "æ¢…èŠ±"},
            {id: 11, image1: "q11-1.jpg", image2: "q11-2.jpg", hint: "è¿™æ˜¯è›‹ç³• + è¿™æ˜¯...", answer: "é¾Ÿè‹“è†"},
            {id: 12, image1: "q12-1.jpg", image2: "q12-2.jpg", hint: "è¿™æ˜¯é¹… + è¿™æ˜¯...", answer: "ä¿„ç½—æ–¯"},
            {id: 13, image1: "q13-1.jpg", image2: "q13-2.jpg", hint: "è¿™æ˜¯å¢™ + è¿™æ˜¯...", answer: "é˜²ç«å¢™"},
            {id: 14, image1: "q14-1.jpg", image2: "q14-2.jpg", hint: "è¿™æ˜¯æˆ¿ + è¿™æ˜¯...", answer: "ç ´é˜²"},
            {id: 15, image1: "q15-1.jpg", image2: "q15-2.jpg", hint: "è¿™æ˜¯é¦• + è¿™æ˜¯...", answer: "å›Šä¸­ç¾æ¶©"},
            {id: 16, image1: "q16-1.jpg", image2: "q16-2.jpg", hint: "è¿™æ˜¯é¦• + è¿™æ˜¯...", answer: "æ°”å›Š"},
            {id: 17, image1: "q17-1.jpg", image2: "q17-2.jpg", hint: "è¿™æ˜¯é¦• + è¿™æ˜¯...", answer: "è¡Œå›Š"},
            {id: 18, image1: "q18-1.jpg", image2: "q18-2.jpg", hint: "è¿™æ˜¯Ï€ + è¿™æ˜¯...", answer: "åæ´¾"},
            {id: 19, image1: "q19-1.jpg", image2: "q19-2.jpg", hint: "è¿™æ˜¯é’³ + è¿™æ˜¯...", answer: "æ²¡é’±"},
            {id: 20, image1: "q20-1.jpg", image2: "q20-2.jpg", hint: "è¿™æ˜¯ç¾Š + è¿™æ˜¯...", answer: "æ¨è¿‡"},
            {id: 21, image1: "q21-1.jpg", image2: "q21-2.jpg", hint: "è¿™æ˜¯è€é¼  + è¿™æ˜¯...", answer: "è€é¼ è¯"},
            {id: 22, image1: "q22-1.jpg", image2: "q22-2.jpg", hint: "è¿™æ˜¯ç™½é¸Ÿ + è¿™æ˜¯...", answer: "çº¸å°¿è£¤"},
            {id: 23, image1: "q23-1.jpg", image2: "q23-2.jpg", hint: "è¿™æ˜¯æŸ´çŠ¬ + è¿™æ˜¯...", answer: "è´¢æºæ»šæ»š"},
            {id: 24, image1: "q24-1.jpg", image2: "q24-2.jpg", hint: "è¿™æ˜¯å¥½ + è¿™æ˜¯...", answer: "å¥½åœŸ"},
            {id: 25, image1: "q25-1.jpg", image2: "q25-2.jpg", hint: "è¿™æ˜¯é¸¡ + è¿™æ˜¯...", answer: "å«èŠ±é¸¡"},
            {id: 26, image1: "q26-1.jpg", image2: "q26-2.jpg", hint: "è¿™æ˜¯8åªé¹¤ + è¿™æ˜¯...", answer: "è¿ˆå·´èµ«"},
            {id: 27, image1: "q27-1.jpg", image2: "q27-2.jpg", hint: "è¿™æ˜¯éª¨ + è¿™æ˜¯...", answer: "åéª¨"},
            {id: 28, image1: "q28-1.jpg", image2: "q28-2.jpg", hint: "è¿™æ˜¯ç²½ + è¿™æ˜¯...", answer: "ä¸¾é‡"},
            {id: 29, image1: "q29-1.jpg", image2: "q29-2.jpg", hint: "è¿™æ˜¯ç®± + è¿™æ˜¯...", answer: "è¡Œæç®±"},
            {id: 30, image1: "q30-1.jpg", image2: "q30-2.jpg", hint: "è¿™æ˜¯é²¤é±¼ + è¿™æ˜¯...", answer: "ä¸å¯ç†å–»"},
            {id: 31, image1: "q31-1.jpg", image2: "q31-2.jpg", hint: "è¿™æ˜¯é…’ + è¿™æ˜¯...", answer: "å¥½ä¹…ä¸è§"},
            {id: 32, image1: "q32-1.jpg", image2: "q32-2.jpg", hint: "è¿™æ˜¯é©¬ + è¿™æ˜¯...", answer: "é©¬äº‘"},
            {id: 33, image1: "q33-1.jpg", image2: "q33-2.jpg", hint: "è¿™æ˜¯è™¾ + è¿™æ˜¯...", answer: "ä¸‹è½ä¸æ˜"},
            {id: 34, image1: "q34-1.jpg", image2: "q34-2.jpg", hint: "è¿™æ˜¯å°å¼º + è¿™æ˜¯...", answer: "å¼ºäººæ‰€éš¾"},
            {id: 35, image1: "q35-1.jpg", image2: "q35-2.jpg", hint: "è¿™æ˜¯èŸ¹ + è¿™æ˜¯...", answer: "å·¨èŸ¹åº§"},
            {id: 36, image1: "q36-1.jpg", image2: "q36-2.jpg", hint: "è¿™æ˜¯é¸¡è›‹ + è¿™æ˜¯...", answer: "é¸¡è›‹çŒé¥¼"},
            {id: 37, image1: "q37-1.jpg", image2: "q37-2.jpg", hint: "è¿™æ˜¯è›‡å’Œç‰› + è¿™æ˜¯...", answer: "ç¤¾ç‰›"},
            {id: 38, image1: "q38-1.jpg", image2: "q38-2.jpg", hint: "è¿™æ˜¯å¤¹å­å’Œé‡‘å¸ + è¿™æ˜¯...", answer: "å‡å¸"},
            {id: 39, image1: "q39-1.jpg", image2: "q39-2.jpg", hint: "è¿™æ˜¯é¸¡ + è¿™æ˜¯...", answer: "æ¤’éº»é¸¡/å«èŠ±é¸¡"},
            {id: 40, image1: "q40-1.jpg", image2: "q40-2.jpg", hint: "è¿™æ˜¯æ˜Ÿ + è¿™æ˜¯...", answer: "é¸¿æ˜Ÿå°”å…‹"},
            {id: 41, image1: "q41-1.jpg", image2: "q41-2.jpg", hint: "è¿™æ˜¯æ˜Ÿ + è¿™æ˜¯...", answer: "æ˜Ÿå·´å…‹"},
            {id: 42, image1: "q42-1.jpg", image2: "q42-2.jpg", hint: "è¿™æ˜¯ç‹¼ + è¿™æ˜¯...", answer: "èŸ‘è‚"},
            {id: 43, image1: "q43-1.jpg", image2: "q43-2.jpg", hint: "è¿™æ˜¯ç¤¼å¸½ + è¿™æ˜¯...", answer: "æ²¡ç¤¼è²Œ"},
            {id: 44, image1: "q44-1.jpg", image2: "q44-2.jpg", hint: "è¿™æ˜¯é©¬ + è¿™æ˜¯...", answer: "ç«‹é©¬æ»šè›‹"},
            {id: 45, image1: "q45-1.jpg", image2: "q45-2.jpg", hint: "è¿™æ˜¯é¸¡ + è¿™æ˜¯...", answer: "æ‹–æ‹‰æœº"},
            {id: 46, image1: "q46-1.jpg", image2: "q46-2.jpg", hint: "è¿™æ˜¯é“ç›’ + è¿™æ˜¯...", answer: "åŠå²›é“ç›’"},
            {id: 47, image1: "q47-1.jpg", image2: "q47-2.jpg", hint: "è¿™æ˜¯ç‹®å­ + è¿™æ˜¯...", answer: "æ‘„å½±å¸ˆ"},
            {id: 48, image1: "q48-1.jpg", image2: "q48-2.jpg", hint: "è¿™æ˜¯èŠå£« + è¿™æ˜¯...", answer: "çŸ¥è¯†ç›²åŒº"},
            {id: 49, image1: "q49-1.jpg", image2: "q49-2.jpg", hint: "è¿™æ˜¯æ³¥ + è¿™æ˜¯...", answer: "æ¯”åŸºå°¼"},
            {id: 50, image1: "q50-1.jpg", image2: "q50-2.jpg", hint: "è¿™æ˜¯é¸¡ + è¿™æ˜¯...", answer: "æ‘„åƒæœº"},
            {id: 51, image1: "q51-1.jpg", image2: "q51-2.jpg", hint: "è¿™æ˜¯ç¾Š + è¿™æ˜¯...", answer: "æ¨åƒå¬…"},
            {id: 52, image1: "q52-1.jpg", image2: "q52-2.jpg", hint: "è¿™æ˜¯é²¨ + è¿™æ˜¯...", answer: "æ²™é›•"},
            {id: 53, image1: "q53-1.jpg", image2: "q53-2.jpg", hint: "è¿™æ˜¯ç‹®å­ + è¿™æ˜¯...", answer: "å¾‹å¸ˆ"},
            {id: 54, image1: "q54-1.jpg", image2: "q54-2.jpg", hint: "è¿™æ˜¯ç‰› + è¿™æ˜¯...", answer: "ç‰›æ’"},
            {id: 55, image1: "q55-1.jpg", image2: "q55-2.jpg", hint: "è¿™æ˜¯é±¿é±¼ + è¿™æ˜¯...", answer: "ä¸‰å…‹æ²¹"},
            {id: 56, image1: "q56-1.jpg", image2: "q56-2.jpg", hint: "è¿™æ˜¯åœ† + è¿™æ˜¯...", answer: "äºŒæ¬¡å…ƒ"},
            {id: 57, image1: "q57-1.jpg", image2: "q57-2.jpg", hint: "è¿™æ˜¯æ¡¶ + è¿™æ˜¯...", answer: "åƒåœ¾æ¡¶"},
            {id: 58, image1: "q58-1.jpg", image2: "q58-2.jpg", hint: "è¿™æ˜¯é¼  + è¿™æ˜¯...", answer: "éº»è–¯"},
            {id: 59, image1: "q59-1.jpg", image2: "q59-2.jpg", hint: "è¿™æ˜¯è¾£ + è¿™æ˜¯...", answer: "æ‹‰æ‹‰è£¤"},
            {id: 60, image1: "q60-1.jpg", image2: "q60-2.jpg", hint: "è¿™æ˜¯é²¨é±¼ + è¿™æ˜¯...", answer: "æ‰‹åˆ¹"},
            {id: 61, image1: "q61-1.jpg", image2: "q61-2.jpg", hint: "è¿™æ˜¯é¸­ + è¿™æ˜¯...", answer: "å‹å²é’±"},
            {id: 62, image1: "q62-1.jpg", image2: "q62-2.jpg", hint: "è¿™æ˜¯å‡¯è’‚çŒ« + è¿™æ˜¯...", answer: "å‡¯è¿ªæ‹‰å…‹"},
            {id: 63, image1: "q63-1.jpg", image2: "q63-2.jpg", hint: "è¿™æ˜¯æé¾™ + è¿™æ˜¯...", answer: "ç¤¾æ"},
            {id: 64, image1: "q64-1.jpg", image2: "q64-2.jpg", hint: "è¿™æ˜¯é¸¡ + è¿™æ˜¯...", answer: "ç”µè§†æœº"},
            {id: 65, image1: "q65-1.jpg", image2: "q65-2.jpg", hint: "è¿™æ˜¯é©¬ + è¿™æ˜¯...", answer: "é©¬æ€é¸¡"},
            {id: 66, image1: "q66-1.jpg", image2: "q66-2.jpg", hint: "è¿™æ˜¯è›‹ + è¿™æ˜¯...", answer: "æ£è›‹é¬¼"},
            {id: 67, image1: "q67-1.jpg", image2: "q67-2.jpg", hint: "è¿™æ˜¯çŒª + è¿™æ˜¯...", answer: "è¯¸è‘›äº®"},
            {id: 68, image1: "q68-1.jpg", image2: "q68-2.jpg", hint: "è¿™æ˜¯å‰ + è¿™æ˜¯...", answer: "æ’åº§"},
            {id: 69, image1: "q69-1.jpg", image2: "q69-2.jpg", hint: "è¿™æ˜¯è™¾ + è¿™æ˜¯...", answer: "è™¾æ»‘"},
            {id: 70, image1: "q70-1.jpg", image2: "q70-2.jpg", hint: "è¿™æ˜¯è•‰ + è¿™æ˜¯...", answer: "ç„¦è™‘"},
            {id: 71, image1: "q71-1.jpg", image2: "q71-2.jpg", hint: "è¿™æ˜¯å±ˆåŸ + è¿™æ˜¯...", answer: "å±ˆæŒ‡å¯æ•°"},
            {id: 72, image1: "q72-1.jpg", image2: "q72-2.jpg", hint: "è¿™æ˜¯é’æ¢… + è¿™æ˜¯...", answer: "é’æ¢…ç«¹é©¬"},
            {id: 73, image1: "q73-1.jpg", image2: "q73-2.jpg", hint: "è¿™æ˜¯é¹… + è¿™æ˜¯...", answer: "æ¶æœ‰æ¶æŠ¥"},
            {id: 74, image1: "q74-1.jpg", image2: "q74-2.jpg", hint: "è¿™æ˜¯èšŠå­ + è¿™æ˜¯...", answer: "æ–‡è´¨å½¬å½¬"},
            {id: 75, image1: "q75-1.jpg", image2: "q75-2.jpg", hint: "è¿™æ˜¯çŒ« + è¿™æ˜¯...", answer: "ç«å†’ä¸‰ä¸ˆ"},
            {id: 76, image1: "q76-1.jpg", image2: "q76-2.jpg", hint: "è¿™æ˜¯å…­ + è¿™æ˜¯...", answer: "è€å…­"},
            {id: 77, image1: "q77-1.jpg", image2: "q77-2.jpg", hint: "è¿™æ˜¯å¿ƒ + è¿™æ˜¯...", answer: "å¤¹å¿ƒ"},
            {id: 78, image1: "q78-1.jpg", image2: "q78-2.jpg", hint: "è¿™æ˜¯å—ç“œ + è¿™æ˜¯...", answer: "éš¾ä¸ŠåŠ éš¾"},
            {id: 79, image1: "q79-1.jpg", image2: "q79-2.jpg", hint: "è¿™æ˜¯æ°”çƒ + è¿™æ˜¯...", answer: "å‘Šç™½æ°”çƒ"},
            {id: 80, image1: "q80-1.jpg", image2: "q80-2.jpg", hint: "è¿™æ˜¯é©¬ + è¿™æ˜¯...", answer: "é©¬æ‹‰æ¾"},
            {id: 81, image1: "q81-1.jpg", image2: "q81-2.jpg", hint: "è¿™æ˜¯ç¾Š + è¿™æ˜¯...", answer: "æ˜“çƒŠåƒçº"},
            {id: 82, image1: "q82-1.jpg", image2: "q82-2.jpg", hint: "è¿™æ˜¯é©¬ + è¿™æ˜¯...", answer: "ç™½é¾™é©¬"},
            {id: 83, image1: "q83-1.jpg", image2: "q83-2.jpg", hint: "è¿™æ˜¯è‘µ + è¿™æ˜¯...", answer: "ä¸€ä¸¾å¤ºé­"},
            {id: 84, image1: "q84-1.jpg", image2: "q84-2.jpg", hint: "è¿™æ˜¯é²¨ + è¿™æ˜¯...", answer: "æ€æ‰‹é”"},
            {id: 85, image1: "q85-1.jpg", image2: "q85-2.jpg", hint: "è¿™æ˜¯æ©™å­ + è¿™æ˜¯...", answer: "å¿ƒæƒ³äº‹æˆ"},
            {id: 86, image1: "q86-1.jpg", image2: "q86-2.jpg", hint: "è¿™æ˜¯é‹ + è¿™æ˜¯...", answer: "è¶³åŠ›å¥"},
            {id: 87, image1: "q87-1.jpg", image2: "q87-2.jpg", hint: "è¿™æ˜¯è•‰ + è¿™æ˜¯...", answer: "ç„¦å¤´çƒ‚é¢"},
            {id: 88, image1: "q88-1.jpg", image2: "q88-2.jpg", hint: "è¿™æ˜¯é©¬ + è¿™æ˜¯...", answer: "ç‰›é©¬"},
            {id: 89, image1: "q89-1.jpg", image2: "q89-2.jpg", hint: "è¿™æ˜¯ABC + è¿™æ˜¯...", answer: "æ²¡å…³ç³»"},
            {id: 90, image1: "q90-1.jpg", image2: "q90-2.jpg", hint: "è¿™æ˜¯æ‰˜å°¼æ–¯å¡”å…‹ + è¿™æ˜¯...", answer: "æ³¥å¸¦æ°´"},
            {id: 91, image1: "q91-1.jpg", image2: "q91-2.jpg", hint: "è¿™æ˜¯å°å¤« + è¿™æ˜¯...", answer: "ä¸€å¤«å½“å…³"},
            {id: 92, image1: "q92-1.jpg", image2: "q92-2.jpg", hint: "è¿™æ˜¯é¸¡çˆª + è¿™æ˜¯...", answer: "æ³¡æ¤’å‡¤çˆª"},
            {id: 93, image1: "q93-1.jpg", image2: "q93-2.jpg", hint: "è¿™æ˜¯æ¡ƒ + è¿™æ˜¯...", answer: "æ’ç¿…éš¾é€ƒ"},
            {id: 94, image1: "q94-1.jpg", image2: "q94-2.jpg", hint: "è¿™æ˜¯é¥­ + è¿™æ˜¯...", answer: "é€šç¼‰çŠ¯"},
            {id: 95, image1: "q95-1.jpg", image2: "q95-2.jpg", hint: "è¿™æ˜¯ç‹ + è¿™æ˜¯...", answer: "ç‹çä¸¹"},
            {id: 96, image1: "q96-1.jpg", image2: "q96-2.jpg", hint: "è¿™æ˜¯è™ + è¿™æ˜¯...", answer: "æ­¦æ¾æ‰“è™"},
            {id: 97, image1: "q97-1.jpg", image2: "q97-2.jpg", hint: "è¿™æ˜¯æ¾è®¸ + è¿™æ˜¯...", answer: "è®¸åµ©"},
            {id: 98, image1: "q98-1.jpg", image2: "q98-2.jpg", hint: "è¿™æ˜¯é²¨ + è¿™æ˜¯...", answer: "æ²™çªç›"},
            {id: 99, image1: "q99-1.jpg", image2: "q99-2.jpg", hint: "è¿™æ˜¯å°å¼º + è¿™æ˜¯...", answer: "å¼ºå¼ºè”æ‰‹"},
            {id: 100, image1: "q100-1.jpg", image2: "q100-2.jpg", hint: "è¿™æ˜¯å°ä¸‘ + è¿™æ˜¯...", answer: "å°ä¸‘ç«Ÿæ˜¯æˆ‘è‡ªå·±"}
        ];

        // ========== æ¸¸æˆçŠ¶æ€å˜é‡ ==========
        let currentIndex = 0;  // å½“å‰é¢˜å·ç´¢å¼•
        let score = 0;  // å½“å‰å¾—åˆ†
        let skipped = 0;  // è·³è¿‡æ¬¡æ•°
        let correct = 0;  // ç­”å¯¹é¢˜æ•°
        let shuffledQuestions = [];  // æ‰“ä¹±åçš„é¢˜ç›®é¡ºåº
        let timer = null;  // å€’è®¡æ—¶å®šæ—¶å™¨
        let timeLeft = TOTAL_TIME;  // å‰©ä½™æ—¶é—´
        let answerShown = false;  // ç­”æ¡ˆæ˜¯å¦å·²æ˜¾ç¤º

        // ========== åˆå§‹åŒ–æ¸¸æˆ ==========
        function initGame() {
            // æ£€æŸ¥æ˜¯å¦å·²æœ‰è¿›è¡Œä¸­çš„æ¸¸æˆ
            const savedIndex = localStorage.getItem('game1_currentIndex');
            const savedScore = localStorage.getItem('game1_score');
            const savedSkipped = localStorage.getItem('game1_skipped');
            const savedCorrect = localStorage.getItem('game1_correct');
            const savedShuffled = localStorage.getItem('game1_shuffled');

            if (savedIndex !== null) {
                // æ¢å¤æ¸¸æˆçŠ¶æ€
                currentIndex = parseInt(savedIndex);
                score = parseInt(savedScore);
                skipped = parseInt(savedSkipped);
                correct = parseInt(savedCorrect);
                shuffledQuestions = JSON.parse(savedShuffled);
            } else {
                // æ–°æ¸¸æˆï¼šä»é¢˜åº“ä¸­éšæœºæŠ½å–20é“é¢˜å¹¶æ‰“ä¹±é¡ºåº
                const allIndices = [...Array(questions.length).keys()];
                shuffledQuestions = shuffleArray(allIndices).slice(0, TOTAL_QUESTIONS);
                saveGameState();
            }

            loadQuestion();
            startTimer();
        }

        // ========== é¢˜ç›®æ•°ç»„æ‰“ä¹±ç®—æ³• ==========
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // ========== åŠ è½½å½“å‰é¢˜ç›® ==========
        function loadQuestion() {
            if (currentIndex >= shuffledQuestions.length) {
                // æ¸¸æˆç»“æŸï¼Œè·³è½¬åˆ°ç»“ç®—é¡µ
                endGame();
                return;
            }

            const questionIndex = shuffledQuestions[currentIndex];
            const question = questions[questionIndex];

            // æ›´æ–°å›¾ç‰‡
            document.getElementById('image1').src = IMAGE_PATH + question.image1;
            document.getElementById('image2').src = IMAGE_PATH + question.image2;

            // æ›´æ–°æç¤ºæ–‡å­—
            document.getElementById('hintText').textContent = question.hint;

            // æ›´æ–°é¢˜å·
            document.getElementById('currentNum').textContent = currentIndex + 1;

            // æ›´æ–°åˆ†æ•°å’Œè·³è¿‡æ¬¡æ•°
            updateScoreDisplay();

            // é‡ç½®ç­”æ¡ˆæ˜¾ç¤º
            answerShown = false;
            document.getElementById('answerText').textContent = question.answer;
            document.getElementById('answerText').classList.remove('show');
            document.getElementById('btnShow').disabled = false;
        }

        // ========== æ›´æ–°åˆ†æ•°æ˜¾ç¤º ==========
        function updateScoreDisplay() {
            const scoreEl = document.getElementById('score');
            const skippedEl = document.getElementById('skipped');
            scoreEl.textContent = score;
            skippedEl.textContent = skipped;

            // æ›´æ–°è·³è¿‡æŒ‰é’®çŠ¶æ€
            const btnSkip = document.getElementById('btnSkip');
            if (skipped >= MAX_SKIP) {
                btnSkip.disabled = true;
            } else {
                btnSkip.disabled = false;
            }
        }

        // ========== å€’è®¡æ—¶åŠŸèƒ½ ==========
        function startTimer() {
            timeLeft = TOTAL_TIME;
            updateTimerDisplay();
            clearInterval(timer);
            timer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();

                // æœ€å10ç§’çº¢è‰²é—ªçƒè­¦å‘Š
                if (timeLeft <= 10) {
                    document.getElementById('timer').classList.add('timer-warning');
                }

                // æ—¶é—´å½’é›¶
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    if (!answerShown) {
                        showAnswer();  // è‡ªåŠ¨æ˜¾ç¤ºç­”æ¡ˆä½†ä¸è·³è½¬
                    }
                }
            }, 1000);
        }

        // ========== æ›´æ–°å€’è®¡æ—¶æ˜¾ç¤º ==========
        function updateTimerDisplay() {
            document.getElementById('timer').textContent = timeLeft;
        }

        // ========== æ˜¾ç¤ºç­”æ¡ˆ ==========
        function showAnswer() {
            if (answerShown) return;
            answerShown = true;
            document.getElementById('answerText').classList.add('show');
            document.getElementById('btnShow').disabled = true;
        }

        // ========== ç­”å¯¹+1åˆ† ==========
        function answerCorrect() {
            if (!answerShown) {
                showAnswer();
            }
            score++;
            correct++;
            saveGameState();

            // åŠ åˆ†åŠ¨ç”»
            const scoreEl = document.getElementById('score');
            scoreEl.classList.add('score-pop');
            setTimeout(() => scoreEl.classList.remove('score-pop'), 400);

            // å»¶è¿Ÿåè¿›å…¥ä¸‹ä¸€é¢˜
            setTimeout(() => {
                goToNextQuestion();
            }, 1500);
        }

        // ========== ä¸‹ä¸€é¢˜ï¼ˆä¸åŠ åˆ†ï¼‰ ==========
        function nextQuestion() {
            goToNextQuestion();
        }

        // ========== è·³è¿‡é¢˜ç›® ==========
        function skipQuestion() {
            if (skipped >= MAX_SKIP) return;
            skipped++;
            saveGameState();
            goToNextQuestion();
        }

        // ========== è·³è½¬ä¸‹ä¸€é¢˜ ==========
        function goToNextQuestion() {
            currentIndex++;
            saveGameState();

            // é‡ç½®å€’è®¡æ—¶
            document.getElementById('timer').classList.remove('timer-warning');
            startTimer();

            loadQuestion();
        }

        // ========== ä¿å­˜æ¸¸æˆçŠ¶æ€åˆ°localStorage ==========
        function saveGameState() {
            localStorage.setItem('game1_currentIndex', currentIndex);
            localStorage.setItem('game1_score', score);
            localStorage.setItem('game1_skipped', skipped);
            localStorage.setItem('game1_correct', correct);
            localStorage.setItem('game1_shuffled', JSON.stringify(shuffledQuestions));
        }

        // ========== æ¸¸æˆç»“æŸ ==========
        function endGame() {
            clearInterval(timer);
            // ä¿å­˜æœ€ç»ˆç»Ÿè®¡æ•°æ®
            localStorage.setItem('game1_total', shuffledQuestions.length);
            localStorage.setItem('game1_finalScore', score);
            localStorage.setItem('game1_finalCorrect', correct);
            localStorage.setItem('game1_finalSkipped', skipped);
            // è·³è½¬åˆ°ç»“ç®—é¡µ
            window.location.href = 'game1-result.html';
        }

        // ========== é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ– ==========
        document.addEventListener('DOMContentLoaded', initGame);
    </script>

    <!-- éŸ³ä¹æ§åˆ¶å™¨ -->
    <audio id="bgMusic" loop preload="auto">
        <source src="./music/background.mp3" type="audio/mpeg">
    </audio>

    <div class="music-controller" id="musicController">
        <div class="music-icon" id="musicIcon">ğŸµ</div>
    </div>

    <style>
        .music-controller {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid rgba(255, 215, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 9999;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        .music-controller:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.5);
            border-color: rgba(255, 215, 0, 0.9);
        }
        .music-icon {
            font-size: 30px;
            color: #FFD700;
            transition: all 0.3s ease;
        }
        .music-controller.playing .music-icon {
            animation: musicRotate 3s linear infinite;
        }
        @keyframes musicRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .music-controller.playing::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 2px solid rgba(255, 215, 0, 0.4);
            animation: musicPulse 1.5s ease-out infinite;
        }
        @keyframes musicPulse {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }
        @media (max-width: 768px) {
            .music-controller {
                width: 50px;
                height: 50px;
                bottom: 15px;
                right: 15px;
            }
            .music-icon {
                font-size: 24px;
            }
        }
    </style>

    <script>
        const MUSIC_CONFIG = { volume: 0.5, autoPlay: true, storageKey: 'bgMusicPlaying' };
        class MusicController {
            constructor() {
                this.audio = document.getElementById('bgMusic');
                this.controller = document.getElementById('musicController');
                this.icon = document.getElementById('musicIcon');
                this.isPlaying = false;
                this.userInteracted = false;
                this.init();
            }
            init() {
                this.audio.volume = MUSIC_CONFIG.volume;
                const savedState = localStorage.getItem(MUSIC_CONFIG.storageKey);
                if (savedState === 'true') {
                    this.isPlaying = true;
                    this.updateUI();
                }
                this.controller.addEventListener('click', () => this.toggle());
                document.addEventListener('click', () => this.handleFirstInteraction(), { once: true });
                document.addEventListener('keydown', () => this.handleFirstInteraction(), { once: true });
                this.audio.addEventListener('ended', () => {
                    this.audio.currentTime = 0;
                    this.audio.play();
                });
            }
            handleFirstInteraction() {
                if (this.userInteracted) return;
                this.userInteracted = true;
                if (this.isPlaying) this.play();
            }
            toggle() {
                this.userInteracted = true;
                if (this.isPlaying) this.pause();
                else this.play();
            }
            play() {
                const playPromise = this.audio.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        this.isPlaying = true;
                        this.saveState();
                        this.updateUI();
                    }).catch(() => {
                        this.isPlaying = false;
                        this.updateUI();
                    });
                }
            }
            pause() {
                this.audio.pause();
                this.isPlaying = false;
                this.saveState();
                this.updateUI();
            }
            saveState() {
                localStorage.setItem(MUSIC_CONFIG.storageKey, this.isPlaying.toString());
            }
            updateUI() {
                if (this.isPlaying) {
                    this.controller.classList.add('playing');
                    this.icon.textContent = 'ğŸµ';
                } else {
                    this.controller.classList.remove('playing');
                    this.icon.textContent = 'ğŸ”‡';
                }
            }
        }
        document.addEventListener('DOMContentLoaded', function() {
            if (!window.musicControllerInstance) {
                window.musicControllerInstance = new MusicController();
            }
        });
    </script>
</body>
</html>
